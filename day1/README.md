I wrote this on an x86 linux box using the aarch64 gcc packages as well as qemu. 

A great blog post that explains all this is: https://azeria-labs.com/arm-on-x86-qemu-user/
